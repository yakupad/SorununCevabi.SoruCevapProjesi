
@{
    Layout = null;
}
<div id="uyari"></div>






<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Sorunun Cevabı | Yeni Üye Kaydı</title>
    <!-- Tell the browser to be responsive to screen width -->
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">

    <link rel="stylesheet" href="~/Content/bootstrap.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
    <!-- Ionicons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ionicons/2.0.1/css/ionicons.min.css">
    <!-- Theme style -->
    <link rel="stylesheet" href="~/Content/AdminLTE.min.css">
    <!-- iCheck -->
    <link rel="stylesheet" href="~/Content/blue.css">
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->


</head>
<body class="hold-transition register-page">
    <div class="register-box">
        <div class="register-logo">
            <a href="#"><b>Sorunun</b>CEVABI</a>
        </div>
        <div class="register-box-body">
            <p class="login-box-msg">Aşağıdaki kutuları uygun şekilde doldurarak yeni üye kaydı yapabilirsiniz.</p>

            <form id="inputform" role="form" data-toggle="validator" method="post" action="">
                <fieldset>
                    <div class="form-group has-feedback">
                        <input type="text" class="form-control" name="ad" id="ad" placeholder="Adınız" data-error="Bu alançemmezsibı boş ge" required>
                        <span class="glyphicon glyphicon-user form-control-feedback"></span>
                    </div>
                    <div class="form-group has-feedback">
                        <input type="text" class="form-control" name="soyad" id="soyad" placeholder="Soyadınız" required>
                        <span class="glyphicon glyphicon-user form-control-feedback"></span>
                    </div>
                    <div class="form-group has-feedback">
                        <input type="text" class="form-control" name="kullaniciadi" id="kullaniciadi" placeholder="Kullanıcı Adınız" required>
                        <span class="glyphicon glyphicon-user form-control-feedback"></span>
                    </div>
                    <div class="form-group has-feedback">
                        <input type="email" class="form-control" name="eposta" id="eposta" placeholder="E-Posta" required>
                        <span class="glyphicon glyphicon-envelope form-control-feedback"></span>
                    </div>
                    <div class="form-group has-feedback">
                        <input type="password" class="form-control" name="parola" id="parola" placeholder="Parola" required>
                        <span class="glyphicon glyphicon-log-in form-control-feedback"></span>
                    </div>
                    <div class="form-group has-feedback">
                        <input type="password" class="form-control" name="parolatekrari" id="parolatekrari" placeholder="Parola Tekrarı" required>
                        <span class="glyphicon glyphicon glyphicon-asterisk form-control-feedback"></span>
                    </div>
                    <div class="form-group has-feedback">
                        <input type="text" class="form-control" name="meslek" id="meslek" placeholder="Meslek" required>
                        <span class="glyphicon glyphicon-log-in form-control-feedback"></span>
                    </div>
                    <div class="form-group has-feedback">
                        <input type="file" class="form-control" name="kullaniciresmi" id="kullaniciresmi" required />
                        <span class="glyphicon glyphicon-picture form-control-feedback"></span>
                    </div>









                    <div class="row">
                        <div class="col-xs-8">
                            <div class="checkbox icheck">
                                <label>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="checkbox" id="kabul">Koşulları kabul <a href="#">ediyorum.</a>
                                </label>
                            </div>
                        </div>
                        <!-- /.col -->
                        <div class="col-xs-4">
                            <button type="submit" id="kullanicikayit" name="kullanicikayit" class="btn btn-primary btn-block btn-flat">Kayıt Ol</button>
                        </div>
                        <!-- /.col -->
                    </div>
                </fieldset>
            </form>


            <div class="social-auth-links text-center">
                <p>- YADA -</p>
                <a href="#" class="btn btn-block btn-social btn-facebook btn-flat">
                    <i class="fa fa-facebook"></i>
                    Facebook kullanarak giriş yap
                </a>
                <a href="#" class="btn btn-block btn-social btn-google btn-flat">
                    <i class="fa fa-google-plus"></i>
                    Google+ kullanarak giriş yap
                </a>
            </div>
            <a href="Login" class="text-center">Zaten bir üyeliğe sahibim</a>
        </div>
        <!-- /.form-box -->
    </div>
    <!-- /.register-box -->

    <script src="~/Scripts/jquery-2.2.3.min.js"></script>
    <script src="~/Scripts/bootstrapValidator.js"></script>


    <!-- Bootstrap 3.3.6 -->
    <script src="~/Scripts/bootstrap.min.js"></script>
    @*<script src="~/Scripts/icheck.min.js"></script>*@


    <script>
        $("#kullanicikayit").bind('click', function (){
        if ($("#kabul").is(":checked")) {

                var data = new FormData(document.getElementById('inputform'));
                console.log(data);
                $.ajax({
                    xhr: function () {
                        return $.ajaxSettings.xhr();
                    },
                    type: "POST",
                    data: data,
                    cache: false,
                    contentType: false,
                    processData: false,
                    url: "@Url.Action("KayitOl", "Login")",
                    success: function () {
                        $('html,body').scrollTop(0);
                        $("#uyari").html('<div class="alert alert-success alert-dismissible" id="basarili"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button><h4><i class="icon fa fa-check"></i> İşlem Başarılı </h4>Yeni üye kaydınız başarılı ile gerçekleşti. Giriş ekranına yönlendiriliyorsunuz.</div>').hide(7000);
                        setTimeout("location.href = '../Login/Login'", 2500);

                    },

                    error: function () {
                        $('html,body').scrollTop(0);
                        $("#uyari").html('<div class="alert alert-danger alert-dismissible" id="basarisiz"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button> <h4><i class="icon fa fa-ban"></i> İşlem Başarısız</h4> Yeni üye kaydı yapılırken bir problem oluştu. Lütfen gerekli kontrolleri yaparak yeniden üye olmayı deneyiniz.</div>').hide(7000)
                    },
                });

        }
        else {
            $('html,body').scrollTop(0);
            $("#uyari").html('<div class="alert alert-warning alert-dismissible" id="kosul"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button><h4><i class="icon fa fa-warning"></i> Uyarı!</h4>Kullanım koşullarını kabul etmediğinizden dolayı maalesef üye kaydınız yapılamamaktadır.</div>').hide(7000);
        }
        });
    </script>




    @*<script>
        $(function () {
          $('input').iCheck({
            checkboxClass: 'icheckbox_square-blue',
            radioClass: 'iradio_square-blue',
            increaseArea: '20%' // optional
          });
        });
          </script>*@
    <script type="text/javascript">
        $(document).ready(function () {
            $('#inputform').bootstrapValidator({
                // To use feedback icons, ensure that you use Bootstrap v3.1.0 or later
                message: 'This value is not valid',
                feedbackIcons: {
                    valid: 'glyphicon glyphicon-ok',
                    invalid: 'glyphicon glyphicon-remove',
                    validating: 'glyphicon glyphicon-refresh'
                },
                fields: {
                    ad: {
                        validators: {
                            stringLength: {
                                min: 3,
                                message: "Adınız 3 karakterden küçük olamaz."
                            },
                            notEmpty: {
                                message: 'Lütfen isminizi giriniz.'
                            }
                        }
                    },
                    soyad: {
                        validators: {
                            stringLength: {
                                min: 2,
                                message: "Soyadınız 2 karakterden küçük olamaz."
                            },
                            notEmpty: {
                                message: 'Lütfen soyadınızı giriniz'
                            }
                        }
                    },
                    kullaniciadi: {
                        validators: {
                                stringLength: {
                                    min: 4,
                                    message:"Kullanıcı adınız 4 karakterden küçük olamaz."
                                    },
                            notEmpty: {
                                message: 'Lütfen kullanıcı adınızı belirleyiniz'
                            }
                        }
                    },
                    eposta: {
                        validators: {
                            notEmpty: {
                                message: 'Lütfen E-Posta adresinizi giriniz.'
                            },
                            emailAddress: {
                                message: 'Lütfen geçerli bir eposta adresi giriniz.'
                            }
                        }
                    },
                    parola: {
                        validators: {
                            identical: {
                                field: 'parolatekrari',
                                message: 'Girilen parola parola tekrar alanı ile aynı değerlere sahip olmalıdır!'
                            }
                        }
                    },
                    parolatekrari: {
                        validators: {
                            identical: {
                                field: 'parola',
                                message: 'Girilen parola parola tekrar alanı ile aynı değerlere sahip olmalıdır!'
                            }
                        }
                    },
                    meslek: {
                        validators: {
                            stringLength: {
                                min: 4,
                                message: "Bu alan 3 karakterden küçük olamaz."
                            },
                            notEmpty: {
                                message: 'Lütfen mesleğinizi giriniz!'
                            }
                        }
                    },
                        kullaniciresmi: {
                            validators: {
                                notEmpty: {
                                    message: 'Lütfen kullanıcı resminizi seçiniz.',
                                },
                                file: {
                                    extension: 'jpeg,jpg,png',
                                    type: 'image/jpeg,image/png',
                                    message: 'Lütfen jpeg veya png uzantılı bir resim seçiniz.'
                                }
                            }
                        }
                    }
            })
                .on('success.form.bv', function (e) {
                    $('#inputform').data('bootstrapValidator').resetForm();

                    // Prevent form submission
                    e.preventDefault();

                    // Get the form instance
                    var $form = $(e.target);

                    // Get the BootstrapValidator instance
                    var bv = $form.data('bootstrapValidator');

                    // Use Ajax to submit form data
                    $.post($form.attr('action'), $form.serialize(), function (result) {
                        console.log(result);
                    }, 'json');
                });
        });


    </script>



</body>
</html>
